generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model FeedItem {
  id          String   @id @default(uuid())
  type        String   // MANUAL | INSTAGRAM | GOOGLE_REVIEW | PRESS
  category    String   // vanavond | events | nieuwe_kaart | krant | behind | algemeen
  title       String
  slug        String   @unique
  body        String?
  media       String?  // JSON string: [{url, thumbUrl, width, height, kind}]
  rating      Int?
  authorName  String?
  sourceUrl   String?
  pinned      Boolean  @default(false)
  publishedAt DateTime @default(now())
  createdAt   DateTime @default(now())

  @@index([publishedAt])
  @@index([type])
  @@index([category])
  @@index([type, category])
}

model Settings {
  id                String   @id @default("singleton")
  tonightStatus     String   @default("OPEN") // OPEN | FEW_LEFT | FULL
  tonightNote       String   @default("")
  googleRating      Float    @default(0)
  googleReviewCount Int      @default(0)
  googlePhotos      String   @default("[]") // JSON array of photo URLs
  ownerReplyMessage String   @default("")
  updatedAt         DateTime @updatedAt
}
